(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{498:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("img",{attrs:{src:"https://i.loli.net/2020/08/03/sZLxCgopYiE9Qcy.jpg",alt:"How to create a new project in Django | Hacker Noon"}})]),s._v(" "),t("h1",{attrs:{id:"django入门笔记2-项目入手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#django入门笔记2-项目入手"}},[s._v("#")]),s._v(" Django入门笔记2-项目入手")]),s._v(" "),t("h2",{attrs:{id:"安装项目环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装项目环境"}},[s._v("#")]),s._v(" 安装项目环境")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("requirement.txt")]),s._v(" 用于记录项目所安装的包")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Django")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v("\ndjango-concurrency"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Pillow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.2")]),s._v(".1\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pytz")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019.3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("six")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v(".0\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sqlparse")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(".0\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("psycopg2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v(".1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("strong",[s._v("安装项目包")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip freeze "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" requirements.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通过"),t("code",[s._v("django-admin startproject")]),s._v(" 创建项目")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("django"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("admin startproject name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通过"),t("code",[s._v("python manage.py startapp")]),s._v("创建应用")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("python manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py startapp name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("项目目录")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysite/\n    manage.py # 启动server\n    mysite/ #项目配置目录 django-admin startproject 与项目同名\n        __init__.py\n        settings.py\n        urls.py\n        asgi.py\n        wsgi.py\n\t\tpolls/ #项目应用目录 python manage.py startapp 应用名\n\t\t    __init__.py\n\t\t\t  admin.py\n\t\t\t  apps.py\n\t\t    migrations/\n        __init__.py\n\t\t    models.py\n\t\t    tests.py\n\t\t    views.py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("通过修改项目目录下"),t("code",[s._v("settings.py")]),s._v(" 的"),t("code",[s._v("INSTALLED_APPS")]),s._v(" 为项目添加应用")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("INSTALLED_APPS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内置应用已省略")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("项目目录")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysite/\n    manage.py # 启动server\n    mysite/ #项目配置目录 django-admin startproject 与项目同名\n        __init__.py\n        settings.py\n        urls.py\n        asgi.py\n        wsgi.py\n\t\tpolls/ #项目应用目录 python manage.py startapp 应用名\n\t\t    __init__.py\n\t\t\t  admin.py\n\t\t\t  apps.py\n\t\t    migrations/\n        __init__.py\n\t\t    models.py\n\t\t    tests.py\n\t\t    views.py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"项目路由编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目路由编写"}},[s._v("#")]),s._v(" "),t("strong",[s._v("项目路由编写")])]),s._v(" "),t("p",[s._v("详细内容见官方文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档URL"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("在项目文件夹下的"),t("code",[s._v("urls.py")]),s._v("文件中编写路由")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("from django.contrib "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" admin\nfrom django.urls "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" include, path\n\nurlpatterns "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls/'")]),s._v(", include"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls.urls'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v(",\n    path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin/'")]),s._v(", admin.site.urls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("Django 3.0 后编写路由无需使用正则表达式了")]),s._v(" "),t("p",[t("code",[s._v("path('**route访问路由**','**view对应视图**','kwarg','name命名空间')")]),s._v(" 前两个为必须参数")]),s._v(" "),t("p",[s._v("view 参数可为"),t("code",[s._v("include( )")]),s._v(" ,该函数采用完整的 Python 导入路径到达该位置应“包括”的另一个"),t("code",[s._v("URLconf")]),s._v("模块，"),t("code",[s._v("admin.site.urls")]),s._v(" 是唯一例外（admin为内置模块）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'articles/<slug:title>/<int:section>/'")]),s._v(", views.section, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'article-section'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("slug:title"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("int:section"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 用于限定url中参数类型\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("有关URL详细内容参考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/topics/http/urls/#naming-url-patterns",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档URL"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"连接数据库与创建数据模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库与创建数据模型"}},[s._v("#")]),s._v(" 连接数据库与创建数据模型")]),s._v(" "),t("p",[s._v("通过修改项目目录下"),t("code",[s._v("settings.py")]),s._v(" 的")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("DATABASES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ENGINE'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.db.backends.postgresql_psycopg2'")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo'")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USER'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo'")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PASSWORD'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo@12345'")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HOST'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PORT'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5432'")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("并按照对应驱动连接数据库（可见后文常见数据库连接）")]),s._v(" "),t("p",[s._v("详细配置参考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASES",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档DataBase"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("通过编写应用目录下"),t("code",[s._v("models.py")]),s._v("创建模型")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("from django.db "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" models\n\nclass Question"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models.Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    question_text "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models.CharField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    pub_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models.DateTimeField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'date published'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nclass Choice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models.Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    question "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models.ForeignKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Question, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("on_delete")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("models.CASCADE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    choice_text "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models.CharField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    votes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models.IntegerField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("通过自定义类继承"),t("code",[s._v("models.Model")]),s._v(" 实现数据库字段")]),s._v(" "),t("p",[t("strong",[s._v("每一个类代表与一张数据库表一一对应，每一个属性对应着数据库表中的字段")])]),s._v(" "),t("p",[s._v("每个字段都是 Field 类的实例，每个模型被表示为"),t("code",[s._v("django.db.models.Model")]),s._v(" 类的子类")]),s._v(" "),t("p",[s._v("详细类型及参数参看")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.Field",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档Field 类"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("同时可以使用 ForeignKey 定义关系，Django 支持所有常用的数据库关系：多对一、多对多和一对一。")]),s._v(" "),t("p",[s._v("初始化数据库与模型")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("manage.py"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("http://manage.py/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" migrate\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("migrate")]),s._v("负责应用和撤销迁移，主要用于数据库创建迁移时操作")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("manage.py"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("http://manage.py/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" makemigrations\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("makemigrations")]),s._v("基于模型的修改创建迁移，主要用于模型创建更改时操作。")]),s._v(" "),t("h2",{attrs:{id:"内置后台管理页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内置后台管理页面"}},[s._v("#")]),s._v(" 内置后台管理页面")]),s._v(" "),t("p",[t("strong",[s._v("创建一个管理员账号")])]),s._v(" "),t("p",[s._v("创建一个能登录管理页面的用户，运行下面的命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python manage.py createsuperuser\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("键入你想要使用的用户名，然后按下回车键：")]),s._v(" "),t("p",[s._v("然后提示你输入想要使用的邮件地址：")]),s._v(" "),t("p",[s._v("最后一步是输入密码。你会被要求输入两次密码，第二次的目的是为了确认第一次输入的确实是你想要的密码。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Username: admin\nEmail address: admin@example.co\nPassword: **********\nPassword "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("again"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": *********\nSuperuser created successfully.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("启动开发服务器")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python manage.py runserver\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("登陆页面")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2020/08/03/UZRMKsH9EYiWg7m.png",alt:"https://i.loli.net/2020/08/03/UZRMKsH9EYiWg7m.png"}})]),s._v(" "),t("p",[s._v("管理页面")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2020/08/03/9k1LjmB8nzEFy6N.png",alt:"https://i.loli.net/2020/08/03/9k1LjmB8nzEFy6N.png"}})]),s._v(" "),t("p",[s._v("在管理页面中加入应用功能")]),s._v(" "),t("p",[s._v("在应用目录下的"),t("code",[s._v("admin.py")]),s._v("中 通过 "),t("code",[s._v("admin.site.register (模型)")]),s._v(" 引入模型")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("from django.contrib import admin\n\nfrom .models import Question\n\nadmin.site.register(Question)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("详细内容参考官方文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial02/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("接下来将介绍 model与数据库 API 以及 基于 Restful Framework 的 Serializer 序列化")])])}),[],!1,null,null,null);a.default=e.exports}}]);